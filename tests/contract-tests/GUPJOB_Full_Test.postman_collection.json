{
	"info": {
		"_postman_id": "gupjob-full-api",
		"name": "GUPJOB Ecosystem API",
		"description": "Complete API collection for Auth, Admin (Course/Roadmap Management), and Learner (Enrollment/Progress).",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Auth Module",
			"item": [
				{
					"name": "Register (Learner)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"student@example.com\",\n    \"password\": \"password123\",\n    \"name\": \"John Doe\",\n    \"role\": \"STUDENT\",\n    \"jobPriority\": \"frontend-dev\",\n    \"interests\": [\"IT\", \"Design\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login (Get Token)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.access_token) {",
									"    pm.environment.set(\"token\", jsonData.access_token);",
									"    console.log(\"Token set successfully\");",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"student@example.com\",\n    \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "2. Public Module",
			"item": [
				{
					"name": "Get Courses (For Register Step 6)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/public/courses?type=JOB&departmentSlug=it",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"public",
								"courses"
							],
							"query": [
								{
									"key": "type",
									"value": "JOB",
									"description": "Filter by JOB or BASIC"
								},
								{
									"key": "departmentSlug",
									"value": "it",
									"description": "Filter by Department"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Admin Module",
			"item": [
				{
					"name": "Create Department",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Information Technology\",\n    \"slug\": \"it\",\n    \"description\": \"Software Engineering and Computer Science\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/admin/departments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"departments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Course (JOB Type)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Frontend Developer\",\n    \"slug\": \"frontend-developer\",\n    \"type\": \"JOB\",\n    \"departmentId\": 1,\n    \"priorityJob\": [\"frontend-dev\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/admin/courses",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"courses"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Roadmap Container",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Frontend Master Path\",\n    \"slug\": \"frontend-mastery\",\n    \"courseId\": 1,\n    \"description\": \"Complete guide to modern frontend.\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/admin/roadmaps",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"roadmaps"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Roadmap (Nodes & Edges)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nodes\": [\n    {\n      \"nodeKey\": \"html\",\n      \"title\": \"HTML\",\n      \"coords\": { \"x\": 0, \"y\": 0 },\n      \"isRequired\": true,\n      \"summary\": \"Structure of the web.\",\n      \"contentMd\": \"### Learn HTML\\nIt is essential.\"\n    },\n    {\n      \"nodeKey\": \"css\",\n      \"title\": \"CSS\",\n      \"coords\": { \"x\": 250, \"y\": 0 },\n      \"isRequired\": true,\n      \"summary\": \"Styling the web.\"\n    }\n  ],\n  \"edges\": [\n    { \"sourceKey\": \"html\", \"targetKey\": \"css\" }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/admin/roadmaps/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"roadmaps",
								"1"
							],
							"description": "Replace '1' with actual Roadmap ID"
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Learner Module",
			"item": [
				{
					"name": "Enroll in Course",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"slug\": \"frontend-mastery\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/user/enroll",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"user",
								"enroll"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get My Courses (Dashboard)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user-roadmaps",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"user-roadmaps"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Single Roadmap (Detail)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user-roadmaps/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"user-roadmaps",
								"1"
							],
							"description": "ID is the UserRoadmap ID (Enrollment ID)"
						}
					},
					"response": []
				},
				{
					"name": "Get Node Detail (Lazy Load)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user-roadmaps/1/nodes/html",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"user-roadmaps",
								"1",
								"nodes",
								"html"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Node Status (Progress)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"COMPLETED\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/user-roadmaps/1/nodes/html/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"user-roadmaps",
								"1",
								"nodes",
								"html",
								"status"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}